<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">

 <head>

  <title>CSS Test: Margin collapsing - margins of a 'collapsed through' box without clearance can collapse with parent block's bottom margin</title>

  <link rel="help" href="http://www.w3.org/TR/CSS21/box.html#collapsing-margins" />
  <link rel="author" title="GÃ©rard Talbot" href="http://www.gtalbot.org/BrowserBugsSection/css21testsuite/" />
  <link rel="author" title="Daniel Schattenkirchner" href="crazy-daniel{at}gmx.de" />
  <meta content="An element that does not have clearance applied to it can collapse its top margin with its parent block's bottom margin. Margins of a 'collapsed through' box without clearance applied to it can collapse with its parent block's bottom margin. An element with clear set to it (to other than 'none') can only create a clearance if and when there is a preceding floated block." name="assert" />
  <meta content="image" name="flags" />

  <style type="text/css">* { margin: 0; padding: 0 }<![CDATA[
  body
  {
  background: white url("support/ruler-v-100px-200px-300px.png") no-repeat;
  margin: 34px 8px 8px 55px; /* max(34px, 16px) + 20px + 20px + 16px + 10px = 100px */
  }

  p
  {
  font-size: 16px;
  line-height: 20px;
  margin: 1em 8px;
  }

  #parent-block
  {
  margin-bottom: 100px;
  }

  .vertical-gap-separator
  {
  background-color: green;
  height: 10px;
  }

  #element-without-clearance-applied
  {
  clear: both;
  margin-top: 100px;
  }
  ]]></style>

 </head>

 <body>

  <p>Below, there should a vertical gap of<br />
  exactly 100px between 2 green bars.</p>

  <div id="parent-block">
   <div class="vertical-gap-separator"></div>
   <div id="element-without-clearance-applied"></div>
  </div>

  <div class="vertical-gap-separator"></div>

  <!--
  #element-without-clearance-applied's margin-top should collapse with #parent-block's margin-bottom: max(100px, 100px) = 100px
  -->

 </body>
</html>